<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# blockchain

```go
import "github.com/samuelvl/blockchain-lab/pkg/blockchain"
```

## Index

- [Constants](<#constants>)
- [Variables](<#variables>)
- [type BadgerChain](<#type-badgerchain>)
  - [func NewBadgerChain(dir string) (*BadgerChain, error)](<#func-newbadgerchain>)
  - [func (chain *BadgerChain) AddBlock(data []byte) (*Block, error)](<#func-badgerchain-addblock>)
  - [func (chain *BadgerChain) Destroy() error](<#func-badgerchain-destroy>)
  - [func (chain *BadgerChain) GetBlock(hash string) (*Block, error)](<#func-badgerchain-getblock>)
  - [func (chain *BadgerChain) GetLastBlock() (*Block, error)](<#func-badgerchain-getlastblock>)
  - [func (chain *BadgerChain) Length() uint64](<#func-badgerchain-length>)
  - [func (chain *BadgerChain) NewIterator() (*ChainIterator, error)](<#func-badgerchain-newiterator>)
- [type Block](<#type-block>)
  - [func FirstBlock() *Block](<#func-firstblock>)
  - [func NewBlock(data []byte, prevHash string) *Block](<#func-newblock>)
  - [func (b *Block) ComputeHash()](<#func-block-computehash>)
  - [func (b *Block) Deserialize(data []byte) error](<#func-block-deserialize>)
  - [func (b *Block) Mine() error](<#func-block-mine>)
  - [func (b *Block) Serialize() ([]byte, error)](<#func-block-serialize>)
  - [func (b Block) String() string](<#func-block-string>)
- [type Chain](<#type-chain>)
- [type ChainIterator](<#type-chainiterator>)
  - [func (iterator *ChainIterator) HasNext() bool](<#func-chainiterator-hasnext>)
  - [func (iterator *ChainIterator) Next() (*Block, error)](<#func-chainiterator-next>)
- [type SliceChain](<#type-slicechain>)
  - [func NewSliceChain() (*SliceChain, error)](<#func-newslicechain>)
  - [func (chain *SliceChain) AddBlock(data []byte) (*Block, error)](<#func-slicechain-addblock>)
  - [func (chain *SliceChain) Destroy() error](<#func-slicechain-destroy>)
  - [func (chain *SliceChain) GetBlock(hash string) (*Block, error)](<#func-slicechain-getblock>)
  - [func (chain *SliceChain) GetLastBlock() (*Block, error)](<#func-slicechain-getlastblock>)
  - [func (chain *SliceChain) Length() uint64](<#func-slicechain-length>)
  - [func (chain *SliceChain) NewIterator() (*ChainIterator, error)](<#func-slicechain-newiterator>)


## Constants

Difficulty of the hashcash algorithm to compute the nonce\. The closer to 256\, the harder to find a nonce\.

```go
const Difficulty uint = 16
```

## Variables

ErrBlockNotFound error when a block is not found\.

```go
var ErrBlockNotFound = errors.New("blockchain: block not found")
```

## type [BadgerChain](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/chain.go#L128-L131>)

BadgerChain will use a Badger database as the blockchain backend\. Badger documentation: https://dgraph.io/docs/badger

```go
type BadgerChain struct {
    // contains filtered or unexported fields
}
```

### func [NewBadgerChain](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/chain.go#L135>)

```go
func NewBadgerChain(dir string) (*BadgerChain, error)
```

NewBadgerChain initializes a blockchain to store blocks in a Badger database\. It will add the Genesis block as the first block of the chain\.

### func \(\*BadgerChain\) [AddBlock](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/chain.go#L189>)

```go
func (chain *BadgerChain) AddBlock(data []byte) (*Block, error)
```

AddBlock adds a new block to the chain from the input data\.

### func \(\*BadgerChain\) [Destroy](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/chain.go#L277>)

```go
func (chain *BadgerChain) Destroy() error
```

Destroy removes all the blocks from the chain\.

### func \(\*BadgerChain\) [GetBlock](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/chain.go#L242>)

```go
func (chain *BadgerChain) GetBlock(hash string) (*Block, error)
```

GetBlock finds and returns a block from its hash\. If block is not found\, ErrBlockNotFound is returned\.

### func \(\*BadgerChain\) [GetLastBlock](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/chain.go#L268>)

```go
func (chain *BadgerChain) GetLastBlock() (*Block, error)
```

GetLastBlock returns the last block of the chain\.

### func \(\*BadgerChain\) [Length](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/chain.go#L304>)

```go
func (chain *BadgerChain) Length() uint64
```

Length returns the total size of the blockchain\.

### func \(\*BadgerChain\) [NewIterator](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/chain.go#L291>)

```go
func (chain *BadgerChain) NewIterator() (*ChainIterator, error)
```

NewIterator initializes the blockchain iterator from the last block\.

## type [Block](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/block.go#L20-L25>)

Block represents the simplest element of the chain\. It stores some data\, its corresponding hash and the hash from the previous block\. The previous hash will be empty if it is the first block of the chain\.

```go
type Block struct {
    Data     []byte `json:"data"`
    Hash     string `json:"hash"`
    PrevHash string `json:"prevHash"`
    Nonce    int32  `json:"nonce"`
}
```

### func [FirstBlock](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/block.go#L41>)

```go
func FirstBlock() *Block
```

FirstBlock returns the first block of the chain from the "Genesis" string\.

### func [NewBlock](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/block.go#L28>)

```go
func NewBlock(data []byte, prevHash string) *Block
```

NewBlock returns a block with its corresponding hash\.

### func \(\*Block\) [ComputeHash](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/block.go#L47>)

```go
func (b *Block) ComputeHash()
```

ComputeHash computes block's hash using the sha256 algorithm: https://datatracker.ietf.org/doc/html/rfc6234

### func \(\*Block\) [Deserialize](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/block.go#L86>)

```go
func (b *Block) Deserialize(data []byte) error
```

Deserialize converts an slice of bytes in a block\. Implemented using the gob library\.

### func \(\*Block\) [Mine](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/block.go#L61>)

```go
func (b *Block) Mine() error
```

Mine will recompute the block's hash using the Proof of Work "hashcat" algorithm\.

### func \(\*Block\) [Serialize](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/block.go#L74>)

```go
func (b *Block) Serialize() ([]byte, error)
```

Serialize converts a block in an slice of bytes\. Implemented using the gob library\.

### func \(Block\) [String](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/block.go#L97>)

```go
func (b Block) String() string
```

String prints the block in json format\.

## type [Chain](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/chain.go#L16-L23>)

Chain is the interface to be implemented by a blockchain backend\.

```go
type Chain interface {
    AddBlock(data []byte) (*Block, error)
    GetBlock(hash string) (*Block, error)
    GetLastBlock() (*Block, error)
    Destroy() error
    Length() uint64
    NewIterator() (*ChainIterator, error)
}
```

## type [ChainIterator](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/chain.go#L27-L30>)

ChainIterator can be used to iterate through the blockchain using the Next\(\) method\.

```go
type ChainIterator struct {
    // contains filtered or unexported fields
}
```

### func \(\*ChainIterator\) [HasNext](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/chain.go#L341>)

```go
func (iterator *ChainIterator) HasNext() bool
```

HasNext chechks if the blockchain has remanining blocks\.

### func \(\*ChainIterator\) [Next](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/chain.go#L327>)

```go
func (iterator *ChainIterator) Next() (*Block, error)
```

Next returns the next block in the blockchain until the Genesis block is reached\.

## type [SliceChain](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/chain.go#L33-L36>)

SliceChain will use an slice of blocks as the blockchain backend\.

```go
type SliceChain struct {
    Blocks []*Block
    sync.Mutex
}
```

### func [NewSliceChain](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/chain.go#L40>)

```go
func NewSliceChain() (*SliceChain, error)
```

NewSliceChain initializes a blockchain to store blocks in an slice of blocks\. It will add the Genesis block as the first block of the chain\.

### func \(\*SliceChain\) [AddBlock](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/chain.go#L48>)

```go
func (chain *SliceChain) AddBlock(data []byte) (*Block, error)
```

AddBlock adds a new block to the chain from the input data\.

### func \(\*SliceChain\) [Destroy](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/chain.go#L90>)

```go
func (chain *SliceChain) Destroy() error
```

Destroy removes all the blocks from the chain\.

### func \(\*SliceChain\) [GetBlock](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/chain.go#L62>)

```go
func (chain *SliceChain) GetBlock(hash string) (*Block, error)
```

GetBlock finds and returns a block from its hash\. If block is not found\, ErrBlockNotFound is returned\.

### func \(\*SliceChain\) [GetLastBlock](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/chain.go#L78>)

```go
func (chain *SliceChain) GetLastBlock() (*Block, error)
```

GetLastBlock returns the last block of the chain\.

### func \(\*SliceChain\) [Length](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/chain.go#L102>)

```go
func (chain *SliceChain) Length() uint64
```

Length returns the total size of the blockchain\.

### func \(\*SliceChain\) [NewIterator](<https://github.com/samuelvl/blockchain-lab/blob/main/pkg/blockchain/chain.go#L114>)

```go
func (chain *SliceChain) NewIterator() (*ChainIterator, error)
```

NewIterator initializes the blockchain iterator from the last block\.



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
